@page "/login"
@using FoodTracker.Data.Enum
@inherits FoodTracker.Pages.BaseComponents.UnsecureComponentBase

<EditForm Model="_loginModel" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="username">Username</label>
        <InputText id="username" class="form-control" @bind-Value="_loginModel.UsernameOrEmail" />
    </div>

    <div class="form-group">
        <label for="password">Password</label>
        <InputText id="password" class="form-control" @bind-Value="_loginModel.Password" type="password" />
    </div>
    
    @if (_error.IsActive)
    {
        <Ws Size="1" Type="SizeUnits.Rem"></Ws>
        <div>
            @_error.Message
        </div>
    }
    <Ws Size="1" Type="SizeUnits.Rem"></Ws>
    
    <button type="submit" class="btn btn-primary">Login</button>
</EditForm>

<Ws Size="1" Type="SizeUnits.Rem"></Ws>


<div>
    <button @onclick="NavigateToRegister" class="btn btn-secondary">Don't have an account? Register</button>
</div>